apiVersion: app.kiegroup.org/v2
kind: KieApp
metadata:
  name: process-migration
spec:
  environment: rhpam-trial
  objects:
    processMigration:
      # An example image which is supposed to be based on the process migration image
      # and packaged with the jdbc driver for the external db connection
      image: "rhpam-process-migration-rhel8-mssql"
      database:
        type: external
        externalConfig:
          driver: mariadb
          jdbcURL: jdbc:mariadb://test-process-migration-mysql:3306/pimdb?useUnicode=true&useSSL=false&serverTimezone=UTC
          username: pim
          password: pim
          minPoolSize: "10"
          maxPoolSize: "10"
          connectionChecker: org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker
          exceptionSorter: org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter
          backgroundValidation: "false"
          backgroundValidationMillis: "150000"
